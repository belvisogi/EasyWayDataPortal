{
  "role": "Agent_ADO_UserStory",
  "description": "Gestione User Story su Azure DevOps: prefetch best practices (Wiki + esterne) e creazione work item con output strutturato.",
  "allowed_paths": {
    "read": [
      "agents/agent_ado_userstory/**",
      "agents/**",
      "scripts/pwsh/agent-ado-userstory.ps1",
      "scripts/**",
      "docs/agentic/templates/intents/**",
      "docs/agentic/templates/orchestrations/**",
      "docs/**",
      "Wiki/EasyWayData.wiki/**",
      "Wiki/**",
      "agents/kb/recipes.jsonl",
      "agents/logs/**",
      "out/**",
      "ai/**",
      "db/**",
      "portal-api/**"
    ],
    "write": [
      "agents/agent_ado_userstory/memory/",
      "agents/logs/"
    ]
  },
  "allowed_tools": [
    "pwsh"
  ],
  "required_gates": [
    "KB_Consistency"
  ],
  "approvals": {
    "prod": [
      "Human_Governance_Approval"
    ]
  },
  "knowledge_sources": [
    {
      "priority": "medium",
      "type": "document",
      "path": "Wiki/EasyWayData.wiki/onboarding/best-practice-scripting.md"
    },
    {
      "priority": "medium",
      "type": "document",
      "path": "Wiki/EasyWayData.wiki/parametrization-best-practices.md"
    },
    {
      "priority": "medium",
      "type": "document",
      "path": "Wiki/EasyWayData.wiki/intent-contract.md"
    },
    {
      "priority": "medium",
      "type": "document",
      "path": "Wiki/EasyWayData.wiki/ado-operating-model.md"
    }
  ],
  "actions": [
    {
      "name": "ado:bestpractice.prefetch",
      "description": "Raccoglie best practices da Wiki locale e (opz.) scarica fonti esterne.",
      "params": {
        "wikiRoot": {
          "type": "string",
          "required": false
        },
        "outDir": {
          "type": "string",
          "required": false
        },
        "downloadExternal": {
          "type": "boolean",
          "required": false
        },
        "externalSources": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "required": false
        }
      }
    },
    {
      "name": "ado:bootstrap",
      "description": "Bootstrap Azure DevOps: crea Area/Iteration e (opz.) seed backlog per modello ibrido Kanban/Sprint.",
      "params": {
        "ado": {
          "type": "object",
          "required": false
        },
        "areas": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "required": false
        },
        "iterations": {
          "type": "array",
          "required": false
        },
        "backlog": {
          "type": "array",
          "required": false
        }
      }
    },
    {
      "name": "ado:userstory.create",
      "description": "Crea una User Story su Azure DevOps (WhatIf-by-default) dopo il prefetch best practices.",
      "params": {
        "ado": {
          "type": "object",
          "required": false
        },
        "workItemType": {
          "type": "string",
          "required": false
        },
        "title": {
          "type": "string",
          "required": true
        },
        "description": {
          "type": "string",
          "required": false
        },
        "acceptanceCriteria": {
          "type": "string",
          "required": false
        },
        "areaPath": {
          "type": "string",
          "required": false
        },
        "iterationPath": {
          "type": "string",
          "required": false
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "required": false
        },
        "fields": {
          "type": "object",
          "required": false
        },
        "prefetchBestPractices": {
          "type": "boolean",
          "required": false
        },
        "wikiRoot": {
          "type": "string",
          "required": false
        },
        "outDir": {
          "type": "string",
          "required": false
        },
        "downloadExternal": {
          "type": "boolean",
          "required": false
        },
        "externalSources": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "required": false
        }
      }
    }
  ],
  "name": "agent_ado_userstory",
  "readme": "README.md",
  "classification": "arm",
  "id": "agent_ado_userstory",
  "owner": "team-platform",
  "version": "1.0.0",
  "evolution_level": 1,
  "context_config": {
    "memory_files": [
      "agents/kb/recipes.jsonl"
    ],
    "context_limit_tokens": 128000,
    "enable_memory": true
  },
  "skills_required": [],
  "llm_config": {
    "provider": "openai",
    "model": "gpt-4o",
    "temperature": 0.0,
    "system_prompt": "agents/agent_ado_userstory/PROMPTS.md",
    "tools": [
      "function_calling"
    ]
  },
  "error_handling": {
    "fallback_mode": "log_and_skip",
    "alert_on_failure": false,
    "retry_delay_seconds": 15,
    "retry_count": 2
  },
  "skills_optional": [
    "utilities.json-validate",
    "utilities.retry-backoff"
  ]
}
