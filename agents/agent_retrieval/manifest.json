{
  "role": "Agent_Retrieval",
  "description": "Gestione RAG: indicizzazione Wiki/KB, retrieval bundles, sync verso vector DB (on-demand), anti-duplicati/canonical.",
  "allowed_paths": {
    "read": [
      "agents/agent_retrieval/**",
      "scripts/pwsh/agent-retrieval.ps1",
      "ai/vettorializza.yaml",
      "docs/agentic/templates/docs/**",
      "Wiki/EasyWayData.wiki/**",
      "agents/kb/recipes.jsonl",
      "agents/logs/**",
      "out/**"
    ],
    "write": [
      "agents/agent_retrieval/memory/",
      "agents/logs/"
    ]
  },
  "allowed_tools": [
    "pwsh"
  ],
  "required_gates": [
    "KB_Consistency"
  ],
  "approvals": {},
  "knowledge_sources": [
    {
      "priority": "medium",
      "type": "document",
      "path": "Wiki/EasyWayData.wiki/ai/knowledge-vettoriale-easyway.md"
    },
    {
      "priority": "medium",
      "type": "document",
      "path": "ai/vettorializza.yaml"
    },
    {
      "priority": "medium",
      "type": "data",
      "path": "docs/agentic/templates/docs/retrieval-bundles.json"
    },
    {
      "priority": "medium",
      "type": "data",
      "path": "docs/agentic/templates/docs/tag-taxonomy.scopes.json"
    }
  ],
  "actions": [
    {
      "name": "rag:export-wiki-chunks",
      "description": "Rigenera gli artifact Wiki (chunks/index) per ingestion RAG (no upload).",
      "params": {
        "wikiRoot": {
          "type": "string",
          "required": false
        },
        "outDir": {
          "type": "string",
          "required": false
        }
      }
    }
  ],
  "name": "agent_retrieval",
  "readme": "README.md",
  "classification": "arm",
  "id": "agent_retrieval",
  "owner": "team-platform",
  "version": "1.0.0",
  "evolution_level": 1,
  "context_config": {
    "memory_files": [
      "agents/kb/recipes.jsonl"
    ],
    "context_limit_tokens": 128000,
    "enable_memory": true
  },
  "skills_required": [],
  "llm_config": {
    "provider": "deepseek",
    "model": "deepseek-chat",
    "api_base": "https://api.deepseek.com",
    "temperature": 0.1,
    "max_tokens": 1000,
    "system_prompt": "agents/agent_retrieval/PROMPTS.md",
    "tools": [
      "function_calling"
    ],
    "cost_estimate": {
      "per_call": "$0.0003",
      "monthly": "$0.06"
    },
    "usage": {
      "rag_management": "Gestisce indicizzazione e retrieval RAG",
      "vector_db_health": "Monitora salute Qdrant vector DB",
      "auto_indexing": "Automatizza indexing di nuovi documenti"
    }
  },
  "error_handling": {
    "fallback_mode": "log_and_skip",
    "alert_on_failure": false,
    "retry_delay_seconds": 15,
    "retry_count": 2
  },
  "skills_optional": [
    "utilities.json-validate",
    "utilities.retry-backoff"
  ]
}
