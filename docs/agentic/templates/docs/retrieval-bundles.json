{
  "version": "1.0",
  "source_scopes_path": "docs/agentic/templates/docs/tag-taxonomy.scopes.json",
  "notes": [
    "Questo file è pensato per retrieval mirato (es. n8n): un workflow carica solo gli scope necessari, riducendo token e rumore.",
    "Gli scope referenziati devono esistere in tag-taxonomy.scopes.json.",
    "Evitare di includere pagine shim/obsolete: usare status: deprecated + llm.include=false per i redirect."
  ],
  "default_exclude_globs": [
    ".attachments/**",
    "logs/reports/**",
    "old/**",
    "**/*.bak*"
  ],
  "bundles": {
    "codex.dev.core": {
      "intent": "codex.dev.core",
      "description": "Bundle minimale per GPT-5.2 Codex quando deve sviluppare codice sotto EasyWay-DataPortal/ (contesto governance + portal + security, senza rileggere tutta la Wiki).",
      "scopes": [
        "governance-all",
        "portal-all",
        "security-all"
      ],
      "code_roots": [
        "EasyWay-DataPortal/"
      ],
      "code_entrypoints": [
        "EasyWay-DataPortal/README.md",
        "EasyWay-DataPortal/easyway-portal-api/README.md",
        "EasyWay-DataPortal/easyway-portal-api/src/app.ts",
        "EasyWay-DataPortal/easyway-portal-frontend/static/plan-viewer.html"
      ]
    },
    "n8n.orchestrator-dispatch": {
      "intent": "orchestrator.n8n.dispatch",
      "description": "Webhook → validate → gate precheck → dispatch ewctl → log (governance + ops + quality gates).",
      "scopes": [
        "governance-all",
        "security-all"
      ]
    },
    "n8n.wf.excel-csv-upload": {
      "intent": "wf.excel-csv-upload",
      "description": "Workflow Excel/CSV upload end-to-end (UX + API + data layer).",
      "scopes": [
        "portal-all",
        "data-all",
        "security-all",
        "governance-all"
      ]
    },
    "n8n.iam-security": {
      "intent": "iam.security",
      "description": "Contesto IAM/Security/Compliance per evitare ambiguità su permessi/policy.",
      "scopes": [
        "security-all",
        "governance-all"
      ]
    },
    "n8n.db.core": {
      "intent": "db.ddl-inventory",
      "description": "Contesto DB minimale per n8n: architettura DB + inventario DDL (tabelle/SP) + governance essenziale.",
      "scopes": [
        "data-all",
        "governance-all"
      ],
      "code_roots": [
        "db/flyway/",
        "db/provisioning/"
      ]
    },
    "n8n.db.table.create": {
      "intent": "db.table.create",
      "description": "Creazione tabella (WHAT-first): carica solo contesto DB+security+governance e i root tecnici per generare artefatti.",
      "scopes": [
        "data-all",
        "security-all",
        "governance-all"
      ],
      "code_roots": [
        "db/flyway/",
        "db/provisioning/"
      ]
    },
    "ingest.upload-file": {
      "intent": "ingest.upload-file",
      "description": "Ingest/upload file: validazione base, storage target e vincoli multi-tenant.",
      "scopes": [
        "portal-all",
        "data-all",
        "security-all",
        "governance-all"
      ]
    },
    "schema.map-suggest": {
      "intent": "schema.map-suggest",
      "description": "Suggerimento mapping schema (colonne→target) con contesto dati e convenzioni.",
      "scopes": [
        "data-all",
        "governance-all"
      ]
    },
    "schema.map-apply": {
      "intent": "schema.map-apply",
      "description": "Applicazione mapping schema (staging/target) e regole di naming/validazione.",
      "scopes": [
        "data-all",
        "governance-all"
      ]
    },
    "dq.validate": {
      "intent": "dq.validate",
      "description": "Data quality validation (regole, report, gates) in contesto ETL/Datalake.",
      "scopes": [
        "data-all",
        "governance-all"
      ]
    },
    "etl.load-staging": {
      "intent": "etl.load-staging",
      "description": "Caricamento dati in staging (pattern ETL/ELT, logging, error handling).",
      "scopes": [
        "data-all",
        "governance-all"
      ]
    },
    "etl.merge-target": {
      "intent": "etl.merge-target",
      "description": "Merge staging→target (upsert, idempotenza, audit/log).",
      "scopes": [
        "data-all",
        "governance-all"
      ]
    },
    "analytics.materialize-defaults": {
      "intent": "analytics.materialize-defaults",
      "description": "Materializzazione viste/defaults analytics (tabelle, modelli, compatibilità).",
      "scopes": [
        "data-all",
        "governance-all"
      ]
    },
    "docs.core": {
      "intent": "docs.core",
      "description": "Contesto base di governance docs (indice + convenzioni + cataloghi).",
      "scopes": [
        "core"
      ]
    }
  }
}
